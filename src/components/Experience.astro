---
const { t } = Astro.props;
---

<section id="experience" class="relative py-20 sm:py-32 overflow-hidden">
  <div class="container mx-auto px-4 sm:px-6">
    <!-- Section header -->
    <div class="flex items-center gap-4 mb-12">
      <div class="w-2 h-16 bg-gradient-to-b from-cyan-500 via-magenta-500 to-blue-600 rounded-full"></div>
      <div>
        <p class="text-sm font-mono text-cyan-400/80 tracking-wider mb-1">{t.decorative.workHistory}</p>
        <h2 class="text-4xl sm:text-5xl font-bold text-white">
          {t.experience.title}
        </h2>
      </div>
    </div>

    <div class="max-w-4xl relative">
      <!-- Timeline line -->
      <div class="absolute left-0 top-0 bottom-0 w-0.5 bg-gradient-to-b from-cyan-500 via-magenta-500 to-blue-600 opacity-30"></div>

      <div class="space-y-8">
        {t.experience.jobs.map((job: any, index: number) => (
          <div class="experience-item group relative pl-12 glass-card p-6 sm:p-8 rounded-lg ml-6
                      hover:border-cyan-400/50 transition-all duration-500 magnetic card-3d">
            <!-- Timeline dot -->
            <div class="absolute left-[-30px] top-8 w-4 h-4 rounded-full bg-gradient-to-br from-cyan-500 to-blue-600
                        shadow-[0_0_20px_rgba(0,255,255,0.5)] group-hover:shadow-[0_0_30px_rgba(0,255,255,0.8)]
                        transition-shadow duration-300 border-4 border-black z-10"></div>

            <!-- Connecting line -->
            <div class="absolute left-[-26px] top-8 w-8 h-0.5 bg-gradient-to-r from-cyan-500/50 to-transparent"></div>

            <div class="card-3d-inner">
              <!-- Company and role -->
              <div class="flex flex-wrap items-start justify-between gap-4 mb-4">
                <div class="flex-1">
                  <h3 class="text-2xl font-bold text-white group-hover:text-cyan-400 transition-colors mb-2">
                    {job.company}
                  </h3>
                  <h4 class="text-lg text-gray-400 font-medium">{job.role}</h4>
                </div>
                <div class="px-4 py-2 glass-card rounded-full border border-cyan-500/30">
                  <span class="text-sm text-cyan-400 font-mono">
                    {job.period}
                  </span>
                </div>
              </div>

              <!-- Description -->
              <p class="text-base text-gray-300 mb-6 leading-relaxed">{job.description}</p>

              <!-- Tech stack -->
              <div>
                <h5 class="text-xs font-mono text-cyan-400/80 uppercase tracking-wider mb-3">{t.decorative.technologiesUsed}</h5>
                <div class="flex flex-wrap gap-2">
                  {job.stack.split(', ').map((tech: string) => (
                    <span class="px-3 py-1.5 bg-white/5 border border-white/10 text-gray-400 text-xs rounded
                                 hover:bg-cyan-500/10 hover:border-cyan-500/30 hover:text-cyan-400
                                 transition-all duration-300">
                      {tech}
                    </span>
                  ))}
                </div>
              </div>
            </div>

            <!-- Hover glow -->
            <div class="absolute inset-0 bg-gradient-to-br from-cyan-500/0 via-cyan-500/0 to-cyan-500/5
                        opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none rounded-lg"></div>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>
